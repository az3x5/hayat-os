<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#ffffff" />
  <title>HayatOS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            // Base Colors
            white: 'var(--color-white)',
            black: 'var(--color-black)',

            // Static colors (Never invert)
            'static-white': '#ffffff',
            'static-black': '#000000',

            // Theme Scales (Mapped to CSS Variables)
            slate: {
              25: 'var(--color-slate-25)',
              50: 'var(--color-slate-50)',
              100: 'var(--color-slate-100)',
              200: 'var(--color-slate-200)',
              300: 'var(--color-slate-300)',
              400: 'var(--color-slate-400)',
              500: 'var(--color-slate-500)',
              600: 'var(--color-slate-600)',
              700: 'var(--color-slate-700)',
              800: 'var(--color-slate-800)',
              900: 'var(--color-slate-900)',
              950: 'var(--color-slate-950)',
            },
            brand: {
              25: 'var(--color-brand-25)',
              50: 'var(--color-brand-50)',
              100: 'var(--color-brand-100)',
              200: 'var(--color-brand-200)',
              300: 'var(--color-brand-300)',
              400: 'var(--color-brand-400)',
              500: 'var(--color-brand-500)',
              600: 'var(--color-brand-600)',
              700: 'var(--color-brand-700)',
              800: 'var(--color-brand-800)',
              900: 'var(--color-brand-900)',
              950: 'var(--color-brand-950)',
            },
            // Semantic Colors
            blue: { 50: 'var(--color-blue-50)', 100: 'var(--color-blue-100)', 200: 'var(--color-blue-200)', 300: 'var(--color-blue-300)', 400: 'var(--color-blue-400)', 500: 'var(--color-blue-500)', 600: 'var(--color-blue-600)', 700: 'var(--color-blue-700)', 800: 'var(--color-blue-800)', 900: 'var(--color-blue-900)' },
            emerald: { 50: 'var(--color-emerald-50)', 100: 'var(--color-emerald-100)', 200: 'var(--color-emerald-200)', 300: 'var(--color-emerald-300)', 400: 'var(--color-emerald-400)', 500: 'var(--color-emerald-500)', 600: 'var(--color-emerald-600)', 700: 'var(--color-emerald-700)', 800: 'var(--color-emerald-800)', 900: 'var(--color-emerald-900)' },
            rose: { 50: 'var(--color-rose-50)', 100: 'var(--color-rose-100)', 200: 'var(--color-rose-200)', 300: 'var(--color-rose-300)', 400: 'var(--color-rose-400)', 500: 'var(--color-rose-500)', 600: 'var(--color-rose-600)', 700: 'var(--color-rose-700)', 800: 'var(--color-rose-800)', 900: 'var(--color-rose-900)' },
            amber: { 50: 'var(--color-amber-50)', 100: 'var(--color-amber-100)', 200: 'var(--color-amber-200)', 300: 'var(--color-amber-300)', 400: 'var(--color-amber-400)', 500: 'var(--color-amber-500)', 600: 'var(--color-amber-600)', 700: 'var(--color-amber-700)', 800: 'var(--color-amber-800)', 900: 'var(--color-amber-900)' },
            indigo: { 50: 'var(--color-indigo-50)', 100: 'var(--color-indigo-100)', 200: 'var(--color-indigo-200)', 300: 'var(--color-indigo-300)', 400: 'var(--color-indigo-400)', 500: 'var(--color-indigo-500)', 600: 'var(--color-indigo-600)', 700: 'var(--color-indigo-700)', 800: 'var(--color-indigo-800)', 900: 'var(--color-indigo-900)' },
            purple: { 50: 'var(--color-purple-50)', 100: 'var(--color-purple-100)', 200: 'var(--color-purple-200)', 300: 'var(--color-purple-300)', 400: 'var(--color-purple-400)', 500: 'var(--color-purple-500)', 600: 'var(--color-purple-600)', 700: 'var(--color-purple-700)', 800: 'var(--color-purple-800)', 900: 'var(--color-purple-900)' },
            teal: { 50: 'var(--color-teal-50)', 100: 'var(--color-teal-100)', 200: 'var(--color-teal-200)', 300: 'var(--color-teal-300)', 400: 'var(--color-teal-400)', 500: 'var(--color-teal-500)', 600: 'var(--color-teal-600)', 700: 'var(--color-teal-700)', 800: 'var(--color-teal-800)', 900: 'var(--color-teal-900)' },
            cyan: { 50: 'var(--color-cyan-50)', 100: 'var(--color-cyan-100)', 200: 'var(--color-cyan-200)', 300: 'var(--color-cyan-300)', 400: 'var(--color-cyan-400)', 500: 'var(--color-cyan-500)', 600: 'var(--color-cyan-600)', 700: 'var(--color-cyan-700)', 800: 'var(--color-cyan-800)', 900: 'var(--color-cyan-900)' },
            orange: { 50: 'var(--color-orange-50)', 100: 'var(--color-orange-100)', 200: 'var(--color-orange-200)', 300: 'var(--color-orange-300)', 400: 'var(--color-orange-400)', 500: 'var(--color-orange-500)', 600: 'var(--color-orange-600)', 700: 'var(--color-orange-700)', 800: 'var(--color-orange-800)', 900: 'var(--color-orange-900)' },
          },
          boxShadow: {
            'xs': '0px 1px 2px rgba(0, 0, 0, 0.05)',
            'sm': '0px 1px 3px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.06)',
            'md': '0px 4px 8px -2px rgba(0, 0, 0, 0.1), 0px 2px 4px -2px rgba(0, 0, 0, 0.06)',
            'lg': '0px 12px 16px -4px rgba(0, 0, 0, 0.08), 0px 4px 6px -2px rgba(0, 0, 0, 0.03)',
            'xl': '0px 20px 24px -4px rgba(0, 0, 0, 0.08), 0px 8px 8px -4px rgba(0, 0, 0, 0.03)',
            '2xl': '0px 24px 48px -12px rgba(0, 0, 0, 0.18)',
          },
          borderRadius: {
            'xl': 'calc(var(--radius) * 0.75)',
            '2xl': 'var(--radius)',
            '3xl': 'calc(var(--radius) * 1.5)',
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

  <!-- Quill JS for Rich Text Editing -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <!-- Quill Image Resize Module -->
  <script src="https://cdn.jsdelivr.net/npm/quill-image-resize@3.0.9/image-resize.min.js"></script>

  <style>
    :root {
      /* Default Variables (Light Mode Fallback) - Overridden by React ThemeContext */
      --color-white: #ffffff;
      --color-black: #000000;
      --color-slate-50: #f8fafc;
      --color-slate-100: #f1f5f9;
      --color-slate-200: #e2e8f0;
      --color-slate-300: #cbd5e1;
      --color-slate-400: #94a3b8;
      --color-slate-500: #64748b;
      --color-slate-600: #475467;
      --color-slate-700: #334155;
      --color-slate-800: #1e293b;
      --color-slate-900: #0f172a;
      --color-slate-950: #020617;
      --radius: 1rem;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--color-slate-50);
      color: var(--color-slate-900);
      transition: background-color 0.3s ease, color 0.3s ease;
      overscroll-behavior-y: none;
      -webkit-tap-highlight-color: transparent;
    }

    /* Reset form element backgrounds for dark mode compatibility */
    input,
    textarea,
    select {
      background-color: transparent;
    }

    /* Input Focus Rings */
    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      box-shadow: 0px 1px 2px rgba(16, 24, 40, 0.05), 0px 0px 0px 4px var(--color-brand-100);
      border-color: var(--color-brand-300);
    }

    /* Desktop-only custom scrollbar */
    @media (hover: hover) and (pointer: fine) {
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }

      ::-webkit-scrollbar-track {
        background: transparent;
      }

      ::-webkit-scrollbar-thumb {
        background-color: var(--color-slate-300);
        border-radius: 9999px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background-color: var(--color-slate-400);
      }

      /* Firefox */
      * {
        scrollbar-width: thin;
        scrollbar-color: var(--color-slate-300) transparent;
      }
    }

    .font-amiri {
      font-family: 'Amiri', serif;
    }

    /* Utility for hiding scrollbar but keeping functionality */
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }

    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.4s ease-out forwards;
    }

    /* Quill Overrides for App Theme */
    .ql-toolbar.ql-snow {
      border: none !important;
      border-bottom: 1px solid var(--color-slate-200) !important;
      padding: 12px 16px !important;
      background-color: var(--color-white);
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
    }

    .ql-container.ql-snow {
      border: none !important;
      font-family: 'Inter', sans-serif !important;
      font-size: 16px !important;
    }

    .ql-editor {
      padding: 24px 32px !important;
      color: var(--color-slate-900) !important;
    }

    .ql-editor.ql-blank::before {
      font-style: normal !important;
      color: var(--color-slate-400) !important;
      opacity: 0.6;
    }

    /* Dark mode SVG fix for Quill icons */
    .ql-snow .ql-stroke {
      stroke: var(--color-slate-500) !important;
    }

    .ql-snow .ql-fill {
      fill: var(--color-slate-500) !important;
    }

    .ql-snow .ql-picker {
      color: var(--color-slate-500) !important;
    }

    @media (max-width: 640px) {
      .ql-editor {
        padding: 16px !important;
      }
    }
  </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.31.0",
    "date-fns": "https://aistudiocdn.com/date-fns@^4.1.0",
    "date-fns/": "https://aistudiocdn.com/date-fns@^4.1.0/",
    "@prisma/client": "https://aistudiocdn.com/@prisma/client@^7.1.0",
    "cors": "https://aistudiocdn.com/cors@^2.8.5",
    "express": "https://aistudiocdn.com/express@^5.2.1",
    "axios": "https://aistudiocdn.com/axios@^1.13.2"
  }
}
</script>
  <link rel="stylesheet" href="/index.css">
  <link rel="manifest" href="/manifest.json" />
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(req => console.log('SW Registered!', req.scope))
          .catch(err => console.log('SW Registration Failed', err));
      });
    }
  </script>
</body>

</html>